!function(){"use strict";!function(t,i,e){window.primeraFunctionPrefixUtil={rest:{post:function(i,n){var o;return o=_.isObject(i)?i:{data:n||{}},o=_.defaults(o,{type:"POST",url:e.restUrl+i,beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",e.restNonce)}}),t.ajax(o)}},renderModule:function(t,n,o){var r=i.ajax.post("primeraRenderModule",{nonce:e.ajaxNonce,module:t,moduleData:n||{}});r.fail(function(t){console.log("Ajax request failed:",t)}),r.done(function(t){if(t.success){if("function"!=typeof o)return t;o(t.module,t)}})},isAndroid:function(){return navigator.userAgent.match(/Android/i)},isBlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},isIOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},isOperaMini:function(){return navigator.userAgent.match(/Opera Mini/i)},isIEMobile:function(){return navigator.userAgent.match(/IEMobile/i)},isMobile:function(){return this.isAndroid()||this.isIOS()||this.isOperaMini()||this.isBlackBerry()||this.isIEMobile()},isIE:function(){return!!(window.navigator.userAgent.indexOf("MSIE ")>0||navigator.userAgent.match(/Trident.*rv\:11\./))},isEdge:function(){return!(!document.documentMode&&!/Edge/.test(navigator.userAgent))},getViewportWidth:function(){return document.body.clientWidth},getViewportHeight:function(){return document.body.clientHeight},getViewportOffset:function(t){var i=jQuery(window),e=i.scrollLeft(),n=i.scrollTop(),o=t.offset();return{left:o.left-e,top:o.top-n}}}}(jQuery,window.wp||{},window.primeraFunctionPrefixLocalizedData||{}),function(t){t.fn.fitVids=function(i){var e={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("div");o.innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>',n.appendChild(o.childNodes[1])}return i&&t.extend(e,i),this.each(function(){var i=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];e.customSelector&&i.push(e.customSelector);var n=".fitvidsignore";e.ignore&&(n=n+", "+e.ignore);var o=t(this).find(i.join(","));(o=(o=o.not("object object")).not(n)).each(function(){var i=t(this);if(!(i.parents(n).length>0||"embed"===this.tagName.toLowerCase()&&i.parent("object").length||i.parent(".fluid-width-video-wrapper").length)){i.css("height")||i.css("width")||!isNaN(i.attr("height"))&&!isNaN(i.attr("width"))||(i.attr("height",9),i.attr("width",16));var e=("object"===this.tagName.toLowerCase()||i.attr("height")&&!isNaN(parseInt(i.attr("height"),10))?parseInt(i.attr("height"),10):i.height())/(isNaN(parseInt(i.attr("width"),10))?i.width():parseInt(i.attr("width"),10));if(!i.attr("name")){var o="fitvid"+t.fn.fitVids._count;i.attr("name",o),t.fn.fitVids._count++}i.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*e+"%"),i.removeAttr("height").removeAttr("width")}})})},t.fn.fitVids._count=0}(window.jQuery||window.Zepto),function(t,i,e,n){var o={init:function(){this.cacheDom(),this.cacheData(),this.indicateJavaScript(),this.indicateBrowser(),this.accommodateAdminbar(),this.initFitvids(),this.bindEvents()},cacheDom:function(){this.$window=t(window),this.$html=t("html"),this.$body=t("body"),this.$wpAdminbar=t("#wpadminbar"),this.$header=t(".primeraCssPrefix-header"),this.$offCanvasToggle=t(".primeraCssPrefix-off-canvas-toggle"),this.$wpNavMenu=t(".menu"),this.$searchForm=t(".search-form"),this.$searchSubmit=this.$searchForm.find("[type=submit]"),this.$searchField=this.$searchForm.find("[type=search]"),this.$fragmentLink=t('a[href^="#"]')},cacheData:function(){this.fromTop=this.$window.scrollTop(),this.vw=e.getViewportWidth(),this.vh=e.getViewportHeight()},demoRestApiCall:function(){var t=e.rest.post("route-name",{key:"val"});t.always(function(t){console.log("always",t)}),t.fail(function(t){console.log("fail",t)}),t.done(function(t){console.log("done",t)})},indicateJavaScript:function(){this.$html.addClass("js").removeClass("no-js")},indicateBrowser:function(){e.isMobile()?this.$html.addClass("is-mobile"):(e.isIE()&&this.$html.addClass("is-ie"),e.isEdge()&&this.$html.addClass("is-edge"))},accommodateAdminbar:function(){var t=this.$wpAdminbar.outerHeight()-Math.abs(this.$wpAdminbar.css("top"));this.$wpAdminbar.length&&this.fromTop<60&&this.$body.css("top",t)},initFitvids:function(){this.$body.fitVids()},bindEvents:function(){this.$window.on("resize",t.proxy(this.onWindowResize,this)),this.$window.on("scroll",t.proxy(this.onWindowScroll,this)),this.$offCanvasToggle.on("click",t.proxy(this.onOffCanvasToggleClick,this)),this.$searchSubmit.on("click",t.proxy(this.preventEmptySearches,this)),this.$fragmentLink.on("click",t.proxy(this.onFragmentLinkClick,this))},onWindowResize:_.debounce(function(t){this.vw=e.getViewportWidth(),this.vh=e.getViewportHeight(),this.accommodateAdminbar()},200),onWindowScroll:function(t){this.fromTop=this.$window.scrollTop(),this.fromTop>250?this.$body.addClass("primeraCssPrefix-elems-are-visible"):this.$body.removeClass("primeraCssPrefix-elems-are-visible"),this.accommodateAdminbar()},onOffCanvasToggleClick:function(t){t.preventDefault(),this.$body.toggleClass("primeraCssPrefix-off-canvas-active")},preventEmptySearches:function(t){""===this.$searchField.val()&&t.preventDefault()},onFragmentLinkClick:function(i){i.preventDefault();var e=i.target.hash,n=t(i.target).data("scroll"),o="#top"===e?this.$html:t(e);if(n&&o.length&&e.length>1){var r=o.offset().top-this.$header.outerHeight(),s="#top"===e?0:Math.max(0,r);this.$html.add(this.$body).stop().animate({scrollTop:s},800,"swing")}}};t(document).on("ready",function(t){o.init()})}(jQuery,window.wp,window.primeraFunctionPrefixUtil||{},window.primeraFunctionPrefixLocalizedData)}();
//# sourceMappingURL=app.js.map
