!function(o){"use strict";o.fn.fitVids=function(t){var e={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var i=document.head||document.getElementsByTagName("head")[0],n=document.createElement("div");n.innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>',i.appendChild(n.childNodes[1])}return t&&o.extend(e,t),this.each(function(){var t=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];e.customSelector&&t.push(e.customSelector);var n=".fitvidsignore";e.ignore&&(n=n+", "+e.ignore);var i=o(this).find(t.join(","));(i=(i=i.not("object object")).not(n)).each(function(){var t=o(this);if(!(0<t.parents(n).length||"embed"===this.tagName.toLowerCase()&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length)){t.css("height")||t.css("width")||!isNaN(t.attr("height"))&&!isNaN(t.attr("width"))||(t.attr("height",9),t.attr("width",16));var i=("object"===this.tagName.toLowerCase()||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height())/(isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10));if(!t.attr("name")){var e="fitvid"+o.fn.fitVids._count;t.attr("name",e),o.fn.fitVids._count++}t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*i+"%"),t.removeAttr("height").removeAttr("width")}})})},o.fn.fitVids._count=0}(window.jQuery||window.Zepto),function(n,o,r){"use strict";window.primeraFunctionPrefixUtil={rest:{post:function(t,i){var e;return e=_.isObject(t)?t:{data:i||{}},e=_.defaults(e,{type:"POST",url:r.restUrl+t,beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",r.restNonce)}}),n.ajax(e)}},renderModule:function(t,i,e){var n=o.ajax.post("primeraRenderModule",{nonce:r.ajaxNonce,module:t,moduleData:i||{}});n.fail(function(t){console.log("Ajax request failed:",t)}),n.done(function(t){if(t.success){if("function"!=typeof e)return t;e(t.module,t)}})},isAndroid:function(){return navigator.userAgent.match(/Android/i)},isBlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},isIOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},isOperaMini:function(){return navigator.userAgent.match(/Opera Mini/i)},isIEMobile:function(){return navigator.userAgent.match(/IEMobile/i)},isMobile:function(){return this.isAndroid()||this.isIOS()||this.isOperaMini()||this.isBlackBerry()||this.isIEMobile()},isIE:function(){return!!(0<window.navigator.userAgent.indexOf("MSIE ")||navigator.userAgent.match(/Trident.*rv\:11\./))},isEdge:function(){return!(!document.documentMode&&!/Edge/.test(navigator.userAgent))},getViewportWidth:function(){return document.body.clientWidth},getViewportHeight:function(){return document.body.clientHeight},getViewportOffset:function(t){var i=jQuery(window),e=i.scrollLeft(),n=i.scrollTop(),o=t.offset();return{left:o.left-e,top:o.top-n}}}}(jQuery,window.wp||{},window.primeraFunctionPrefixLocalizedData||{}),function(s,t,i,e){"use strict";var n={init:function(){this.cacheDom(),this.cacheData(),this.indicateJavaScript(),this.indicateBrowser(),this.accommodateAdminbar(),this.initFitvids(),this.bindEvents()},cacheDom:function(){this.$window=s(window),this.$html=s("html"),this.$body=s("body"),this.$wpAdminbar=s("#wpadminbar"),this.$header=s(".primeraCssPrefix-header"),this.$offCanvasToggle=s(".primeraCssPrefix-off-canvas-toggle"),this.$wpNavMenu=s(".menu"),this.$searchForm=s(".search-form"),this.$searchSubmit=this.$searchForm.find("[type=submit]"),this.$searchField=this.$searchForm.find("[type=search]"),this.$fragmentLink=s('a[href^="#"]')},cacheData:function(){this.fromTop=this.$window.scrollTop(),this.vw=i.getViewportWidth(),this.vh=i.getViewportHeight()},demoRestApiCall:function(){var t=i.rest.post("route-name",{key:"val"});t.always(function(t){console.log("always",t)}),t.fail(function(t){console.log("fail",t)}),t.done(function(t){console.log("done",t)})},indicateJavaScript:function(){this.$html.addClass("js").removeClass("no-js")},indicateBrowser:function(){i.isMobile()?this.$html.addClass("is-mobile"):(i.isIE()&&this.$html.addClass("is-ie"),i.isEdge()&&this.$html.addClass("is-edge"))},accommodateAdminbar:function(){var t=this.$wpAdminbar.outerHeight()-Math.abs(this.$wpAdminbar.css("top"));this.$wpAdminbar.length&&this.fromTop<60&&this.$body.css("top",t)},initFitvids:function(){this.$body.fitVids()},bindEvents:function(){this.$window.on("resize",s.proxy(this.onWindowResize,this)),this.$window.on("scroll",s.proxy(this.onWindowScroll,this)),this.$offCanvasToggle.on("click",s.proxy(this.onOffCanvasToggleClick,this)),this.$searchSubmit.on("click",s.proxy(this.preventEmptySearches,this)),this.$fragmentLink.on("click",s.proxy(this.onFragmentLinkClick,this))},onWindowResize:_.debounce(function(t){this.vw=i.getViewportWidth(),this.vh=i.getViewportHeight(),this.accommodateAdminbar()},200),onWindowScroll:function(t){this.fromTop=this.$window.scrollTop(),250<this.fromTop?this.$body.addClass("primeraCssPrefix-elems-are-visible"):this.$body.removeClass("primeraCssPrefix-elems-are-visible"),this.accommodateAdminbar()},onOffCanvasToggleClick:function(t){t.preventDefault(),this.$body.toggleClass("primeraCssPrefix-off-canvas-active")},preventEmptySearches:function(t){""===this.$searchField.val()&&t.preventDefault()},onFragmentLinkClick:function(t){t.preventDefault();var i=t.target.hash,e=s(t.target).data("scroll"),n="#top"===i?this.$html:s(i);if(e&&n.length&&1<i.length){var o=n.offset().top-this.$header.outerHeight(),r="#top"===i?0:Math.max(0,o);this.$html.add(this.$body).stop().animate({scrollTop:r},800,"swing")}}};s(document).on("ready",function(t){n.init()})}(jQuery,window.wp,window.primeraFunctionPrefixUtil||{},window.primeraFunctionPrefixLocalizedData);
//# sourceMappingURL=app.js.map
