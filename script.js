"use strict";!function(n,o,s){window.primeraUtil={rest:{post:function(i,t){var e;return e=_.isObject(i)?i:{data:t||{}},e=_.defaults(e,{type:"POST",url:s.restUrl+i,beforeSend:function(i){i.setRequestHeader("X-WP-Nonce",s.restNonce)}}),n.ajax(e)}},renderModule:function(i,t,e){var n=o.ajax.post("primeraRenderModule",{nonce:s.ajaxNonce,module:i,moduleData:t||{}});n.fail(function(i){console.log("Ajax request failed:",i)}),n.done(function(i){if(i.success){if("function"!=typeof e)return i;e(i.module,i)}})},isAndroid:function(){return navigator.userAgent.match(/Android/i)},isBlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},isIOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},isOperaMini:function(){return navigator.userAgent.match(/Opera Mini/i)},isIEMobile:function(){return navigator.userAgent.match(/IEMobile/i)},isMobile:function(){return this.isAndroid()||this.isIOS()||this.isOperaMini()||this.isBlackBerry()||this.isIEMobile()},isIE:function(){return!!(0<window.navigator.userAgent.indexOf("MSIE ")||navigator.userAgent.match(/Trident.*rv\:11\./))},isEdge:function(){return!(!document.documentMode&&!/Edge/.test(navigator.userAgent))},getViewportWidth:function(){return document.body.clientWidth},getViewportHeight:function(){return document.body.clientHeight},getViewportOffset:function(i){var t=jQuery(window),e=t.scrollLeft(),n=t.scrollTop(),o=i.offset();return{left:o.left-e,top:o.top-n}}}}(jQuery,window.wp||{},window.primeraLocalizedData||{}),function(r,i,t,e){var n={init:function(){this.cacheDom(),this.cacheData(),this.indicateJavaScript(),this.indicateBrowser(),this.accommodateAdminbar(),this.bindEvents()},cacheDom:function(){this.$window=r(window),this.$html=r("html"),this.$body=r("body"),this.$wpAdminbar=r("#wpadminbar"),this.$header=r(".primera-header"),this.$offCanvasToggle=r(".primera-off-canvas-toggle"),this.$wpNavMenu=r(".menu"),this.$searchForm=r(".search-form"),this.$searchSubmit=this.$searchForm.find("[type=submit]"),this.$searchField=this.$searchForm.find("[type=search]"),this.$fragmentLink=r('a[href^="#"]')},cacheData:function(){this.fromTop=this.$window.scrollTop(),this.vw=t.getViewportWidth(),this.vh=t.getViewportHeight()},demoRestApiCall:function(){var i=t.rest.post("route-name",{key:"val"});i.always(function(i){console.log("always",i)}),i.fail(function(i){console.log("fail",i)}),i.done(function(i){console.log("done",i)})},indicateJavaScript:function(){this.$html.removeClass("no-js").addClass("js")},indicateBrowser:function(){t.isMobile()?this.$html.addClass("is-mobile"):(t.isIE()&&this.$html.addClass("is-ie"),t.isEdge()&&this.$html.addClass("is-edge"))},accommodateAdminbar:function(){var i=this.$wpAdminbar.outerHeight()-Math.abs(this.$wpAdminbar.css("top"));this.$wpAdminbar.length&&this.fromTop<60&&this.$body.css("top",i)},bindEvents:function(){this.$window.on("resize",r.proxy(this.onWindowResize,this)),this.$window.on("scroll",r.proxy(this.onWindowScroll,this)),this.$offCanvasToggle.on("click",r.proxy(this.onOffCanvasToggleClick,this)),this.$searchSubmit.on("click",r.proxy(this.preventEmptySearches,this)),this.$fragmentLink.on("click",r.proxy(this.onFragmentLinkClick,this))},onWindowResize:_.debounce(function(i){this.vw=t.getViewportWidth(),this.vh=t.getViewportHeight(),this.accommodateAdminbar()},200),onWindowScroll:function(i){this.fromTop=this.$window.scrollTop(),250<this.fromTop?this.$body.addClass("primera-elems-are-visible"):this.$body.removeClass("primera-elems-are-visible"),this.accommodateAdminbar()},onOffCanvasToggleClick:function(i){i.preventDefault(),this.$body.toggleClass("primera-off-canvas-active")},preventEmptySearches:function(i){""===this.$searchField.val()&&i.preventDefault()},onFragmentLinkClick:function(i){i.preventDefault();var t=i.target.hash,e=r(i.target).data("scroll"),n="#top"===t?this.$html:r(t);if(e&&n.length&&1<t.length){var o=n.offset().top-this.$header.outerHeight(),s="#top"===t?0:Math.max(0,o);this.$html.add(this.$body).stop().animate({scrollTop:s},800,"swing")}}};r(document).on("ready",function(i){n.init()})}(jQuery,window.wp,window.primeraUtil||{},window.primeraLocalizedData);
//# sourceMappingURL=script.js.map
